# Verilog Package Manager (VPM)
[![release](https://github.com/getinstachip/vpm/actions/workflows/release.yml/badge.svg)](https://github.com/getinstachip/vpm/actions/workflows/release.yml)
![downloads](https://img.shields.io/github/downloads/getinstachip/vpm/total?logo=github&logoColor=white&style=flat-square)

VPM is a package manager for Verilog projects, being piloted at Stanford and UC Berkeley. It's designed to simplify the management of IP cores and dependencies in hardware design workflows.

## Features

- Install submodules within repositories with dependencies automatically resolved
- Automatically handle synthesis collateral including what's needed for build (COMING SOON!)
- God-tier version control with a .lock file


## Installation

To install VPM, you don't need any dependencies! Just run the following command:

```bash
curl -sSfL https://raw.githubusercontent.com/getinstachip/vpm/main/install.sh | sh
```

After installation, you can use the `vpm` command in any terminal.

### Basic Commands

- `vpm install <top_module.v> <repo_url>`: install a .v file and all submodule dependencies
- `vpm docs <top_module.v> <repo_url>`: generate documentation for anything
![docs](https://github.com/user-attachments/assets/9f1b9cb4-05e1-4e69-9440-16d498277f0f)

## Very useful stuff

### vpm include "top_module"
After running `vpm include "top_module.v"`, the Verilog Package Manager parses the file and downloads all the submodules too. It generates .vh files and handles synthesis collateral.

Example: running `vpm include pfcache.v` finds all dependences and includes/configures them for you.
```
your_project/
├─ vpm_modules/
│  ├─ pfcache/
│     ├─ pfcache.v
│     ├─ pfcache.vh
│     ├─ ffetch.v
│     ├─ ffetch.vh
│     ├─ fwb_module.v
│     ├─ fwb_module.vh
│     └─ README.md // documentation of component you installed
└─ sim/
   └─pfcache_tb.v
```

## Configuration

### vpm.toml

Example `vpm.toml` file:

```yaml
[tool.vpm.library]
name = "krishna_library"
version = "0.3.5"
description = "Most important library in the world"
authors = ["Radhakrishna Sanka"]
license = [
    {type="BSD-3-Clause", source=["folder_with_artifacts/*.whatever"]},
    {type="CC-4", source=["folder_with_artifacts/*.whatever"]},
    {type="Copyright@RandomStuffyCompany", source=["whatever"]},
]

include = [
    "folder_with_modules/*",
]

[tool.vpm.docs]
docspath="./not-standard-docs-path"
futuredocsoption1=true
futuredocsoption2=false

[tool.vpm.dependencies]
"https://github.com/ZipCPU/zipcpu" = {"version"="1.1.1", alias="unique_library_name", modules = ["m1", "m2"], branch="not-main", commit="hashwhenwedontgivesemver"}
"https://github.com/ZipCPU/zipcpu" = {"version"="1.1.1", alias="unique_library_name", modules = ["m1", "m2"], branch="not-main", commit="hashwhenwedontgivesemver"}

[tool.vpm.dev-dependencies]
"./path/to/file" = {"version"="1.1.1", alias="unique_library_name", modules = ["m1", "m2"], branch="not-main", commit="hashwhenwedontgivesemver"}

[tool.vpm.config]
futureconfigparam1=true
futureconfigparam2=false
```
Close your eyes, relax. Submodule dependencies are taken care of with our parser. We are working on handling synthesis collateral.

### vpm.lock (autogenerated)
```yaml
[tool.vpm.library]
name = "krishna_library"
version = "0.3.5"
description = "Most important library in the world"
authors = ["Radhakrishna Sanka"]
license = [
    {type="BSD-3-Clause", source=["folder_with_artifacts/*.whatever"]},
    {type="CC-4", source=["folder_with_artifacts/*.whatever"]},
    {type="Copyright@RandomStuffyCompany", source=["whatever"]},
]

include = [
    "folder_with_modules/*",
]


[tool.vpm.config]
futureconfigparam1=true
futureconfigparam2=false

[tool.vpm.docs]
docspath="./not-standard-docs-path"
futuredocsoption1=true
futuredocsoption2=false

[tool.vpm.lock-dependencies]
"https://github.com/ZipCPU/zipcpu" = {"version"="1.1.1", alias="unique_library_name", modules = ["m1", "m2"], branch="not-main", commit="hash"}
"https://github.com/ZipCPU/zipcpu" = {"version"="1.1.1", alias="unique_library_name", modules = ["m1", "m2"], branch="not-main", commit="hash"}
```

## Enterprise version

We are receiving overwhelming interest for an enterprise version to manage internal IP for ASIC/FPGA companies.

[Join the waitlist if you're interested](https://www.waitlistr.com/lists/ce1719b7/vpm-enterprise-version-waitlist), we're launching an enterprise batch trial soon.

## Support

For issues and feature requests, please email sathvikr@getinstachip.com.
